<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leo Web UI</title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="/static/img/favicon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/img/favicon.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/static/img/favicon.png">
    <link rel="icon" type="image/png" sizes="64x64" href="/static/img/favicon.png">
    <link rel="shortcut icon" href="/static/img/favicon.png">

    <!-- Bootstrap 5 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.rtl.min.css" rel="stylesheet">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@300;400;600&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <div id="app">

        <div class="container-fluid mt-3 mb-3">
            <div class="row">

                <!-- ÿ™ŸÜÿ∏€åŸÖÿßÿ™ -->
                <div class="col-9">
                    <div class="card">
                        <div class="card-header">‚öôÔ∏è ÿ™ŸÜÿ∏€åŸÖÿßÿ™</div>

                        <div class="card-body">

                            <ul class="nav nav-tabs mb-3">
                                <li class="nav-item" v-for="tab in tabs" :key="tab.key">
                                    <button class="nav-link" :class="{ active: activeTab === tab.key }"
                                        @click="activeTab = tab.key">
                                        [[ tab.icon ]] [[ tab.label ]]
                                    </button>
                                </li>
                            </ul>

                            <div class="tab-content">

                                <!-- GROUPED -->
                                <div v-if="['modules','database'].includes(activeTab)">

                                    <div v-for="(items, group) in sections[activeTab]" class="mb-4">

                                        <h6 class="fw-bold text-primary">
                                            [[ labelsFa[group] || group ]]
                                        </h6>

                                        <div v-for="[k,v] in orderedInputs(items)" class="mb-2">
                                            <label class="form-label">[[ labelsFa[k] || k ]]</label>

                                            <div v-if="isBooleanKey(k)" class="form-check form-switch">
                                                <input class="form-check-input" type="checkbox" v-model="items[k]">
                                            </div>

                                            <input v-else class="form-control" v-model="items[k]">
                                        </div>

                                    </div>
                                </div>

                                <!-- SIMPLE -->
                                <div v-else>
                                    <div v-for="[k,v] in orderedInputs(sections[activeTab])" class="mb-2">
                                        <label class="form-label">[[ labelsFa[k] || k ]]</label>

                                        <div v-if="isBooleanKey(k)" class="form-check form-switch">
                                            <input class="form-check-input" type="checkbox"
                                                v-model="sections[activeTab][k]">
                                        </div>

                                        <input v-else class="form-control" v-model="sections[activeTab][k]">
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÿßÿ¨ÿ±ÿß -->
                <div class="col-3">
                    <div class="card">
                        <div class="card-header">‚ñ∂Ô∏è ÿßÿ¨ÿ±ÿß</div>
                        <div class="card-body">

                            <select class="form-select mb-2" v-model="selectedCustomer" @change="loadCustomer">
                                <option v-for="(v,k) in inventoryData.all.hosts" :value="k">
                                    [[ v.vars.customer_name ]]
                                </option>
                            </select>

                            <div class="d-grid gap-2 mt-2">
                                <button class="btn btn-primary mt-2 mb-2" @click="runUpdate">üîÑ ÿ®ÿ±Ÿàÿ≤ÿ±ÿ≥ÿßŸÜ€å</button>
                                <hr>
                                <button class="btn btn-danger mt-2 mb-2" @click="downCustomer">‚¨áÔ∏è ÿØÿßŸàŸÜ ⁄©ÿ±ÿØŸÜ
                                    ŸÖÿ¥ÿ™ÿ±€å</button>
                                <hr>
                                <button class="btn btn-info mt-2 mb-2" @click="backupCustomer">üõ°Ô∏è ÿ®⁄©ÿßŸæ ⁄Øÿ±ŸÅÿ™ŸÜ</button>
                                <hr>
                                <button class="btn btn-warning mt-2" @click="testFull">üöÄ ÿ™ÿ≥ÿ™ ⁄©ÿßŸÖŸÑ ÿ®ÿß ÿØŸæŸÑŸà€å</button>
                                <button class="btn btn-warning" @click="testFailFast">‚ö° fail-fast</button>
                                <button class="btn btn-warning mb-2" @click="testOnly">üß´ ŸÅŸÇÿ∑ ÿ™ÿ≥ÿ™</button>
                                <hr>
                                <button class="btn btn-success mt-2 mb-2" @click="saveVars">üíæ ÿ∞ÿÆ€åÿ±Ÿá</button>
                            </div>

                            <div class="mt-2 text-success">[[ result ]]</div>

                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="/static/js/labels.js"></script>
    <script src="/static/js/app.vue.js"></script>
</body>

</html>